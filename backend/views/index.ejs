<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/style.css" />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <title><%= title %></title>
  </head>
  <body>
    <header><%- include('partials/header') %></header>

    <main>
      <!-- Slider Section -->
      <div class="slider-container">
        <div class="slider-track">
          <div
            class="slider-card"
            style="background-image: url('/images/Pearl-in-the-oyster-4.jpg')"
          >
            <div class="slider-content">
              <h2 class="slider-title">Voice of the People</h2>
              <p class="slider-description">
                These sayings reflect Afghan identity—highlighting honor,
                patience, family, and the strength of the human spirit.
              </p>
            </div>
          </div>

          <div
            class="slider-card"
            style="background-image: url('/images/DSC_7500-1024x684.jpg')"
          >
            <div class="slider-content">
              <h2 class="slider-title">Passed by Word</h2>
              <p class="slider-description">
                Afghan proverbs live through storytelling—spoken by
                grandmothers, remembered by children, honored by all.
              </p>
            </div>
          </div>

          <div
            class="slider-card"
            style="background-image: url('/images/Em-7-e1699783455610.jpg')"
          >
            <div class="slider-content">
              <h2 class="slider-title">Stories of Resilience</h2>
              <p class="slider-description">
                Proverbs carry the weight of Afghanistan's struggles and
                triumphs, offering guidance in times of hardship.
              </p>
            </div>
          </div>

          <div
            class="slider-card"
            style="
              background-image: url('/images/istockphoto-478130489-612x612.jpg');
            "
          >
            <div class="slider-content">
              <h2 class="slider-title">Elders' Wisdom</h2>
              <p class="slider-description">
                Afghan proverbs often reflect the deep wisdom passed down from
                elders, shaping generations with their timeless lessons.
              </p>
            </div>
          </div>

          <div
            class="slider-card"
            style="
              background-image: url('/images/this-real-beauty-afghanistan-600nw-2375558357.jpg');
            "
          >
            <div class="slider-content">
              <h2 class="slider-title">People of Many Tongues</h2>
              <p class="slider-description">
                Dari, Pashto, Uzbek, and more—Afghan proverbs unify people
                across languages with shared values and cultural truth.
              </p>
            </div>
          </div>
        </div>
        <div class="slider-controls">
          <div class="slider-controls">
            <button
              class="slider-prev"
              aria-label="Previous Slide"
              title="Previous"
            >
              <i class="fa-solid fa-arrow-left"></i>
            </button>
            <button class="slider-next" aria-label="Next Slide" title="Next">
              <i class="fa-solid fa-arrow-right"></i>
            </button>
          </div>
        </div>
      </div>

      <br />

      <!-- ===================== Category Buttons ===================== -->
      <section id="category">
        <div class="category-buttons">
          <% categories.forEach(category => { %>
          <button class="cat-btn" data-category="<%= category %>">
            <%= category %>
          </button>
          <% }) %>
        </div>
      </section>

      <!-- ===================== Proverbs Cards ===================== -->
      <section id="proverbs">
        <div class="container max-w-5xl mx-auto px-8">
          <div class="card-wrapper">
            <% proverbs.forEach(proverb => { %>
            <a
              href="javascript:void(0)"
              class="card relative group block p-2 h-full w-full"
              data-id="<%= proverb.id %>"
            >
              <div class="card-main">
                <div class="card-inner">
                  <div>
                    <h3><%= proverb.category %></h3>

                    <p class="font dari-text">
                      <strong class="str_cat">متن دری:</strong>
                      <span><%= proverb.textDari %></span>
                    </p>

                    <p class="font pashto-text">
                      <strong class="str_cat">متن پشتو:</strong>
                      <span><%= proverb.textPashto %></span>
                    </p>
                    <hr />
                    <p class="font english-text">
                      <strong class="str_cat">English Translation:</strong>
                      <span><%= proverb.translationEn %></span>
                    </p>
                    <p class="font english-text">
                      <strong class="str_cat">Meaning:</strong>
                      <span><%= proverb.meaning %></span>
                    </p>

                    <!--Delete button-->
                    <div class="proverb-actions">
                      <form
                        action="/proverbs/<%= proverb.id %>?_method=DELETE"
                        method="POST"
                        style="display: inline"
                      >
                        <button
                          class="custom-button"
                          type="submit"
                          title="Delete"
                          onclick="return confirm('Are you sure you want to delete this proverb?');"
                        >
                          <svg viewBox="0 0 448 512" class="custom-svgIcon">
                            <path
                              d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"
                            ></path>
                          </svg>
                        </button>
                      </form>

                      <button class="custom-cta card-update-btn">
                        <span>Update</span>
                        <svg width="15px" height="10px" viewBox="0 0 13 10">
                          <path d="M1,5 L11,5"></path>
                          <polyline points="8 1 12 5 8 9"></polyline>
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </a>

            <% }) %>
          </div>
        </div>
        <div class="add-button-container">
          <button id="open-add-modal" class="btn btn-add">+ Add Proverb</button>
        </div>
      </section>
    </main>

    <!-- hidden form 😁 -->
    <div id="edit-modal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <form id="edit-form" class="modal-form">
          <input type="hidden" id="edit-id" />

          <label for="edit-textDari"><p class="dari-text">متن دری</p></label>
          <textarea
            id="edit-textDari"
            rows="2"
            required
            class="dari-text"
          ></textarea>

          <label for="edit-textPashto"
            ><P class="pashto-text">متن پشتو</P></label
          >
          <textarea
            id="edit-textPashto"
            rows="2"
            required
            class="pashto-text"
          ></textarea>

          <label for="edit-translationEn" class="english-text"
            >English Translation</label
          >
          <input type="text" id="edit-translationEn" required />

          <label for="edit-meaning" class="english-text">Meaning</label>
          <textarea id="edit-meaning" rows="3" required></textarea>

          <label for="edit-category">Category</label>
          <input type="text" id="edit-category" required />

          <div class="modal-buttons">
            <button type="submit" class="btn btn-primary">Update</button>
            <button type="button" id="edit-cancel" class="btn btn-secondary">
              Cancel
            </button>
          </div>
        </form>
      </div>
    </div>
    <!-- Add Modal -->
    <div id="add-modal" class="modal-overlay-add" style="display: none">
      <div class="modal-content-add">
        <form
          id="add-form"
          class="modal-form-add"
          method="POST"
          action="/proverbs"
        >
          <label for="add-textDari"><p class="dari-text">متن دری</p></label>
          <textarea
            id="add-textDari"
            name="textDari"
            rows="2"
            required
            class="dari-text"
          ></textarea>

          <label for="add-textPashto"
            ><p class="pashto-text">متن پشتو</p></label
          >
          <textarea
            id="add-textPashto"
            name="textPashto"
            rows="2"
            required
            class="pashto-text"
          ></textarea>

          <label for="add-translationEn" class="english-text"
            >English Translation</label
          >
          <input
            type="text"
            id="add-translationEn"
            name="translationEn"
            required
          />

          <label for="add-meaning" class="english-text">Meaning</label>
          <textarea
            id="add-meaning"
            name="meaning"
            rows="3"
            required
          ></textarea>

          <label for="add-category">Category</label>
          <select id="add-category" name="category" required>
            <option value="" disabled selected>Select category</option>
            <option value="Wisdom">Wisdom</option>
            <option value="Humor">Humor</option>
            <option value="Life">Life</option>
            <option value="Culture">Culture</option>
          </select>

          <div class="modal-buttons">
            <button type="submit" class="btn btn-primary">Add</button>
            <button type="button" id="add-cancel" class="btn btn-secondary">
              Cancel
            </button>
          </div>
        </form>
      </div>
    </div>

    <footer><%- include('partials/footer') %></footer>
  </body>
</html>
